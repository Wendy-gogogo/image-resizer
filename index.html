<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Media Converter | 240x296 Image & 128KBPS-like WAV Audio</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Arial, sans-serif;
        }
        body {
            max-width: 900px;
            margin: 2rem auto;
            padding: 0 1rem;
            background-color: #f8f9fa;
        }
        .container {
            background: white;
            padding: 2.5rem;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }
        h1 {
            text-align: center;
            color: #2d3748;
            margin-bottom: 1.5rem;
            font-size: 1.8rem;
            font-weight: 600;
        }
        .subtitle {
            text-align: center;
            color: #718096;
            margin-bottom: 2rem;
            font-size: 0.95rem;
        }

        /* Ê†áÁ≠æÈ°µÊ†∑Âºè */
        .tabs {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin-bottom: 2rem;
            border-bottom: 1px solid #e2e8f0;
            padding-bottom: 0.5rem;
        }
        .tab-btn {
            padding: 0.8rem 2rem;
            background-color: #f7fafc;
            color: #4a5568;
            border: none;
            border-radius: 6px 6px 0 0;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.2s;
        }
        .tab-btn.active {
            background-color: #4285f4;
            color: white;
        }
        .tab-btn:hover:not(.active) {
            background-color: #e2e8f0;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }

        /* ---------------- ÂéüÊúâÂõæÁâáÂäüËÉΩÊ†∑ÂºèÔºàÂÆåÂÖ®‰øùÁïôÔºâ ---------------- */
        .upload-area {
            margin-bottom: 2rem;
            text-align: center;
        }
        .upload-container {
            border: 2px dashed #cbd5e0;
            border-radius: 8px;
            padding: 2rem;
            transition: all 0.3s ease;
            max-width: 400px;
            margin: 0 auto;
        }
        .upload-container:hover, .upload-container.drag-over {
            border-color: #4285f4;
            background-color: #f0f7ff;
        }
        #file-input {
            display: none;
        }
        .upload-btn {
            padding: 0.8rem 2.5rem;
            background-color: #4285f4;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.2s;
            margin-bottom: 1rem;
            display: inline-block;
        }
        .upload-btn:hover {
            background-color: #3367d6;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(66, 133, 244, 0.3);
        }
        .upload-hint {
            color: #718096;
            font-size: 0.9rem;
            margin-top: 0.5rem;
        }
        .format-tip {
            color: #4a5568;
            font-size: 0.85rem;
            margin-top: 0.8rem;
        }

        .scale-control {
            margin: 1.5rem auto;
            width: 240px;
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 0.8rem;
            background-color: #f7fafc;
            border-radius: 6px;
        }
        .scale-control label {
            color: #2d3748;
            font-size: 0.95rem;
            font-weight: 500;
        }
        #scale-slider {
            flex: 1;
            height: 6px;
            accent-color: #4285f4;
        }
        #scale-value {
            width: 60px;
            text-align: center;
            color: #2d3748;
            font-weight: 600;
            background-color: white;
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            border: 1px solid #e2e8f0;
        }

        .canvas-container {
            text-align: center;
            margin: 1.5rem 0;
            position: relative;
        }
        #canvas {
            border: 1px solid #e2e8f0;
            background-color: white;
            width: 240px;
            height: 296px;
            cursor: move;
            border-radius: 6px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.06);
            transition: box-shadow 0.2s;
        }
        #canvas:hover {
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        .canvas-dimension {
            color: #718096;
            font-size: 0.85rem;
            margin-top: 0.5rem;
        }

        .action-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-top: 1.5rem;
        }
        #export-btn, #reset-btn, #audio-export-btn, #audio-reset-btn {
            padding: 0.8rem 2rem;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.2s;
        }
        #export-btn, #audio-export-btn {
            background-color: #0f9d58;
            color: white;
        }
        #export-btn:hover, #audio-export-btn:hover {
            background-color: #0d884e;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(15, 157, 88, 0.3);
        }
        #export-btn:disabled, #audio-export-btn:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        #reset-btn, #audio-reset-btn {
            background-color: #f56565;
            color: white;
        }
        #reset-btn:hover, #audio-reset-btn:hover {
            background-color: #e53e3e;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(245, 101, 101, 0.3);
        }
        #reset-btn:disabled, #audio-reset-btn:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .operation-tip {
            margin-top: 1rem;
            color: #4285f4;
            font-size: 0.9rem;
            text-align: center;
            padding: 0.5rem;
            background-color: #f0f7ff;
            border-radius: 4px;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
        }
        .tip {
            margin-top: 1rem;
            color: #718096;
            font-size: 0.9rem;
            text-align: center;
        }

        .notification {
            text-align: center;
            margin: 1rem 0;
            padding: 0.8rem;
            border-radius: 6px;
            font-size: 0.9rem;
            display: none;
        }
        .notification.success {
            background-color: #e6fffa;
            color: #38b2ac;
            display: block;
        }
        .notification.loading {
            background-color: #fef7fb;
            color: #9f7aea;
            display: block;
        }
        .notification.error {
            background-color: #fed7d7;
            color: #e53e3e;
            display: block;
        }

        /* ---------------- Êñ∞Â¢ûÈü≥È¢ëÂäüËÉΩÊ†∑Âºè ---------------- */
        #audio-file-input {
            display: none;
        }
        .audio-info {
            max-width: 400px;
            margin: 1.5rem auto;
            padding: 1rem;
            background-color: #f7fafc;
            border-radius: 6px;
            display: none;
        }
        .audio-info.active {
            display: block;
        }
        .audio-info p {
            color: #4a5568;
            font-size: 0.9rem;
            margin: 0.5rem 0;
        }
        .audio-info span {
            font-weight: 600;
            color: #2d3748;
        }
        .audio-player {
            max-width: 400px;
            margin: 1rem auto;
            display: none;
        }
        .audio-player.active {
            display: block;
        }
        .bitrate-hint {
            color: #e53e3e;
            font-size: 0.8rem;
            text-align: center;
            margin-top: 0.5rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Media Converter</h1>
        <p class="subtitle">Image: 240√ó296 High-Quality JPG | Audio: 22.05KHz 128KBPS-like WAV Conversion</p>
        
        <!-- Ê†áÁ≠æÈ°µÂàáÊç¢ -->
        <div class="tabs">
            <button class="tab-btn active" data-tab="image-tab">Image Converter</button>
            <button class="tab-btn" data-tab="audio-tab">Audio Converter</button>
        </div>

        <!-- Âä†ËΩΩ/ÊàêÂäü/ÈîôËØØÊèêÁ§∫ -->
        <div class="notification loading" id="loading-notice" style="display: none;">
            üåÄ Processing... Please wait
        </div>
        <div class="notification success" id="success-notice" style="display: none;">
            ‚úÖ Exported successfully!
        </div>
        <div class="notification error" id="error-notice" style="display: none;">
            ‚ùå Error occurred! Please try again.
        </div>

        <!-- ---------------- ÂéüÊúâÂõæÁâáÂäüËÉΩÂå∫ÂüüÔºàÂÆåÂÖ®‰øùÁïôÔºâ ---------------- -->
        <div class="tab-content active" id="image-tab">
            <div class="upload-area">
                <div class="upload-container" id="image-upload-container">
                    <label for="file-input" class="upload-btn">Upload Image</label>
                    <input type="file" id="file-input" accept="image/*">
                    <p class="upload-hint">Or drag & drop your image here</p>
                    <p class="format-tip">Supported formats: JPG, PNG, GIF, WEBP, BMP, TIFF</p>
                </div>
            </div>
            
            <div class="scale-control" id="scale-control" style="display: none;">
                <label for="scale-slider">Scale:</label>
                <input type="range" id="scale-slider" min="0.1" max="5" step="0.05" value="1">
                <span id="scale-value">100%</span>
            </div>
            
            <div class="canvas-container">
                <canvas id="canvas" width="240" height="296"></canvas>
                <p class="canvas-dimension">Canvas size: 240px √ó 296px (White background)</p>
            </div>
            
            <div class="action-buttons">
                <button id="export-btn" disabled>Export JPG (240√ó296)</button>
                <button id="reset-btn" disabled>Reset Image</button>
            </div>
            
            <p class="operation-tip">‚ú® Tips: Drag to move | Scroll mouse wheel to scale | Slider for precise scaling</p>
            <p class="tip">Exported image: 240√ó296 pixels ‚Ä¢ High quality (100%) JPG ‚Ä¢ White background</p>
        </div>

        <!-- ---------------- Êñ∞Â¢ûÈü≥È¢ëÂäüËÉΩÂå∫Âüü ---------------- -->
        <div class="tab-content" id="audio-tab">
            <div class="upload-area">
                <div class="upload-container" id="audio-upload-container">
                    <label for="audio-file-input" class="upload-btn">Upload Audio</label>
                    <input type="file" id="audio-file-input" accept="audio/*">
                    <p class="upload-hint">Or drag & drop your audio here</p>
                    <p class="format-tip">Supported formats: MP3, WAV, OGG, FLAC, M4A</p>
                </div>
            </div>
            
            <div class="audio-info" id="audio-info">
                <p>Original Sample Rate: <span id="original-sr">--</span> Hz</p>
                <p>Target Sample Rate: <span>22050</span> Hz</p>
                <p>Original Format: <span id="original-format">--</span></p>
                <p>Target Format: <span>WAV (Mono, 8-bit)</span></p>
                <p>Target Bitrate: <span>~176.4 KBPS (closest to 128 KBPS for WAV)</span></p>
            </div>
            <p class="bitrate-hint">Note: WAV is lossless, 128KBPS is for compressed formats (e.g. MP3). This is the closest optimization.</p>
            
            <audio controls class="audio-player" id="audio-player"> //
